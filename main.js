(()=>{"use strict";var e={56(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},62(e,t,n){e.exports=n.p+"ship_destroyed_single.png"},72(e){var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var d=e[s],l=r.base?d[0]+r.base:d[0],p=a[l]||0,h="".concat(l," ").concat(p);a[l]=p+1;var c=n(h),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==c)t[c].references++,t[c].updater(u);else{var m=i(u,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:m,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var d=r(e,i),l=0;l<a.length;l++){var p=n(a[l]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}a=d}}},113(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},185(e,t,n){e.exports=n.p+"ship_destroyed_front.png"},205(e,t,n){e.exports=n.p+"ship_damaged.png"},298(e,t,n){e.exports=n.p+"ship_destroyed_mid.png"},311(e,t,n){e.exports=n.p+"ship_destroyed_end.png"},314(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(o[d]=!0)}for(var l=0;l<e.length;l++){var p=[].concat(e[l]);r&&o[p[0]]||(void 0!==a&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=a),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),i&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=i):p[4]="".concat(i)),t.push(p))}},t}},382(e,t,n){e.exports=n.p+"ship_mid.png"},417(e){e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601(e){e.exports=function(e){return e[1]}},621(e,t,n){n.d(t,{A:()=>L});var r=n(601),i=n.n(r),a=n(314),o=n.n(a),s=n(417),d=n.n(s),l=new URL(n(382),n.b),p=new URL(n(789),n.b),h=new URL(n(939),n.b),c=new URL(n(874),n.b),u=new URL(n(205),n.b),m=new URL(n(298),n.b),g=new URL(n(185),n.b),b=new URL(n(311),n.b),f=new URL(n(62),n.b),y=o()(i()),v=d()(l),w=d()(p),A=d()(h),S=d()(c),T=d()(u),k=d()(m),R=d()(g),P=d()(b),B=d()(f);y.push([e.id,`:root {\n    --border-border: 1px solid grey;\n    --border-border-sea: 1px solid rgb(147, 239, 255);\n    --background-color-sea: rgb(233, 252, 255);\n    --border-radius: 10px;\n    --box-shadow: 0px 5px 5px 1px grey;\n}\n\nbody {\n    font-family: "Roboto", sans-serif;\n}\n\nh1 {\n    font-size: 1.5rem;\n    padding: 2rem;\n    border: var(--border-border);\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n}\n\n#mainApp {\n    padding: 2rem;\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n\n    align-items: center;\n}\n\n.playerMenu {\n    box-shadow: var(--box-shadow);\n}\n\n.gameBoard {\n    border: 1px solid black;\n    height: 20rem;\n    width: 20rem;\n\n    display: grid;\n    grid-template-rows: repeat(10, auto);\n    grid-template-columns: repeat(10, auto);\n    grid-auto-flow: row;\n    align-items: stretch;\n    justify-items: stretch;\n}\n\n.gameBoard > button > img {\n    /* object-fit: scale-down; */\n    max-width: 100%;\n}\n\n.single-square {\n    background-color: var(--background-color-sea);\n    border: var(--border-border-sea);\n}\n\n.btn-border-hide {\n    border-style: none !important;\n}\n\n.gameBoard-small {\n    border: 1px solid black;\n    height: 15rem;\n    width: 15rem;\n\n    display: grid;\n    grid-template-rows: repeat(10, auto);\n    grid-template-columns: repeat(10, auto);\n    grid-auto-flow: row;\n    align-items: stretch;\n    justify-items: stretch;\n}\n\n#game-boards {\n    display: flex;\n    padding: 2rem;\n\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 5rem;\n    border: var(--border-border);\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n}\n\n.game-board-player-container {\n    display: flex;\n    align-self: baseline;\n    padding: 1rem;\n    border: var(--border-border);\n    border-radius: var(--border-radius);\n    box-shadow: var(--box-shadow);\n\n    flex-direction: column;\n    gap: 2rem;\n}\n\n.score-board {\n    margin: 0.5rem;\n    padding: 0.5rem;\n    border: var(--border-border);\n    border-radius: var(--border-radius);\n    flex-basis: 6rem;\n}\n\n.score-board > ul,\nli {\n    margin: 0.5rem;\n}\n\n.position-ship-placing {\n    background-color: rgb(0, 180, 255) !important;\n}\n\n.position-ship-healthy {\n    background-color: blue;\n}\n\n.position-ship-damaged {\n    background-color: red;\n}\n\n.position-unknown {\n    background-color: var(--background-color-sea);\n}\n\n.position-attacked {\n    background-color: rgb(17, 162, 153);\n}\n\n#start-menu {\n    display: flex;\n\n    flex-direction: row;\n    justify-content: center;\n    align-items: end;\n    flex-wrap: wrap;\n    gap: 2rem;\n}\n\n#player-one-menu,\n#player-two-menu {\n    border: var(--border-border);\n    border-radius: var(--border-radius);\n    padding: 1rem;\n    display: flex;\n    flex-direction: column;\n\n    gap: 0.5rem;\n}\n\n.shipSpriteMid {\n    background-image: url(${v});\n    background-size: 100%;\n}\n\n.shipSpriteMidRotated {\n    background-image: url(${v});\n    background-size: 100%;\n    transform: rotate(-90deg);\n}\n\n.shipSpriteFront {\n    background-image: url(${w});\n    background-size: 100%;\n}\n\n.shipSpriteFrontRotated {\n    background-image: url(${w});\n    background-size: 100%;\n    transform: rotate(-90deg);\n}\n\n.shipSpriteEnd {\n    background-image: url(${A});\n    background-size: 100%;\n}\n\n.shipSpriteEndRotated {\n    background-image: url(${A});\n    background-size: 100%;\n    transform: rotate(-90deg);\n}\n\n.shipSpriteSingle {\n    background-image: url(${S});\n    background-size: 100%;\n}\n\n.shipSpriteDamaged {\n    background-image: url(${T});\n    background-size: 100%;\n}\n\n.shipSpriteSingleRotated {\n    background-image: url(${S});\n    background-size: 100%;\n    transform: rotate(-90deg);\n}\n\n.shipSpriteMidDestroyed {\n    background-image: url(${k});\n    background-size: 100%;\n}\n\n.shipSpriteMidDestroyedRotated {\n    background-image: url(${k});\n    background-size: 100%;\n    transform: rotate(-90deg);\n}\n\n.shipSpriteFrontDestroyed {\n    background-image: url(${R});\n    background-size: 100%;\n}\n\n.shipSpriteFrontDestroyedRotated {\n    background-image: url(${R});\n    background-size: 100%;\n    transform: rotate(-90deg);\n}\n\n.shipSpriteEndDestroyed {\n    background-image: url(${P});\n    background-size: 100%;\n}\n\n.shipSpriteEndDestroyedRotated {\n    background-image: url(${P});\n    background-size: 100%;\n    transform: rotate(-90deg);\n}\n\n.shipSpriteSingleDestroyed {\n    background-image: url(${B});\n    background-size: 100%;\n}\n\n.shipSpriteSingleDestroyedRotated {\n    background-image: url(${B});\n    background-size: 100%;\n    transform: rotate(-90deg);\n}\n`,""]);const L=y},659(e){var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},789(e,t,n){e.exports=n.p+"ship_front.png"},825(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},874(e,t,n){e.exports=n.p+"ship_single.png"},909(e,t,n){n.d(t,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([e.id,"/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n\n   Ignas: slight modifications were made for custom needs\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n\n/*Removing styling from <a> links*/\na {\n\tcolor: inherit;\n\ttext-decoration: none; /* no underline */\n  }\n\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n",""]);const s=o},939(e,t,n){e.exports=n.p+"ship_end.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b="undefined"!=typeof document&&document.baseURI||self.location.href,n.nc=void 0;var r=n(72),i=n.n(r),a=n(825),o=n.n(a),s=n(659),d=n.n(s),l=n(56),p=n.n(l),h=n(540),c=n.n(h),u=n(113),m=n.n(u),g=n(909),b={};b.styleTagTransform=m(),b.setAttributes=p(),b.insert=d().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=c(),i()(g.A,b),g.A&&g.A.locals&&g.A.locals;var f=n(621),y={};y.styleTagTransform=m(),y.setAttributes=p(),y.insert=d().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=c(),i()(f.A,y),f.A&&f.A.locals&&f.A.locals;const v=class{constructor(e,t,n,r,i){this.length=e,this.coordX=t,this.coordY=n,this.hits=0,this.isRotated90=r,this.shipPositions=[],this.playerOwner=i}getPlayerNumber(){return this.playerOwner}storePosition(e,t){this.shipPositions.push({coords:[e,t],damaged:!1})}setPartDamaged(e=null,t=null){for(let n=0;n<this.shipPositions.length;n++){const r=this.shipPositions[n];r.coords[0]===e&&r.coords[1]===t&&(r.damaged=!0)}}getShipPartAt(e,t){for(let n=0;n<this.shipPositions.length;n++){const r=this.shipPositions[n];if(r.coords[0]===e&&r.coords[1]===t)return r}}getShipPositions(){return this.shipPositions}isRotated(){return this.isRotated90}getLength(){return this.length}hit(){this.hits++}isDamaged(){return 0!=this.hits&&this.hits<this.length}isSunk(){return this.hits>=this.length}},w=class{constructor(){this.shipRef=null,this.coordX=null,this.coordY=null,this.attacked=!1}setShipRef(e){this.shipRef=e}getShipRef(){return this.shipRef}setCoords(e,t){this.coordX=e,this.coordY=t}setAttacked(){this.attacked=!0}wasAttacked(){return this.attacked}hasShip(){return this.shipRef instanceof v}},A=[[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1],[0,0]],S=class{constructor(e){this.ships=[],this.board=[],this.positionsFired=[],this.missedAttacks=0;for(let e=0;e<10;e++){const t=[];for(let n=0;n<10;n++){const r=new w;r.setCoords(e,n),t.push(r)}this.board.push(t)}this.shipsLeftToPlace=[1,1,1,2,2,3],this.boardHidden=!1,this.playerNumber=parseInt(e)}getNextShip(){return this.shipsLeftToPlace[this.shipsLeftToPlace.length-1]}getPositionContents(e,t){return this.board[t][e]}getPlayerNumber(){return this.playerNumber}toggleBoard(){this.boardHidden=!this.boardHidden}allShipsPlaced(){return 0===this.shipsLeftToPlace.length}#e(e,t){for(let n=0;n<A.length;n++){const r=A[n],i=e+r[0],a=t+r[1];if(i>=0&&a>=0&&i<10&&a<10&&this.getPositionContents(i,a).hasShip())return!1}return!0}spawnShip(e,t,n,r,i){const a=parseInt(t),o=parseInt(n),s=new v(e,a,o,r,i);if(r){if(o+e>10)return-1}else if(a+e>10)return-1;if(r){for(let t=0;t<e;t++)if(!this.#e(a,o+t))return-1}else for(let t=0;t<e;t++)if(!this.#e(a+t,o))return-1;if(this.ships.push(s),r)for(let t=0;t<e;t++)this.board[o+t][a].setShipRef(s),s.storePosition(a,o+t);else for(let t=0;t<e;t++)this.board[o][a+t].setShipRef(s),s.storePosition(a+t,o);this.shipsLeftToPlace.pop()}receiveAttack(e,t){const n=parseInt(e),r=parseInt(t),i=this.getPositionContents(n,r);return i.wasAttacked()?0:(this.positionsFired.push([r,n]),i.setAttacked(),i.hasShip()?(i.getShipRef().setPartDamaged(n,r),i.getShipRef().hit(),1):(this.missedAttacks++,-1))}getMissedAttackCount(){return this.missedAttacks}areAllShipsDestroyed(){if(0===this.ships.length)return-1;for(let e=0;e<this.ships.length;e++)if(!this.ships[e].isSunk())return!1;return!0}},T=class{constructor(e=!0,t="Unknown",n){this.isHuman=e,this.name=t,this.gameBoard=new S(n),this.playerTurn=!0,this.playerNumber=n,this.aiMoves=[],this.aiLevel=null,this.isHuman||this.#t()}setAiLevel(e){this.aiLevel=e}disableInteraction(){this.playerTurn=!1}enableInteraction(){this.playerTurn=!0}getName(){return this.name}getBoard(){return this.gameBoard}placeShip(e,t,n,r){this.gameBoard.spawnShip(e,t,n,r,this.playerNumber)}#t(){const e=[];for(let t=0;t<10;t++)for(let n=0;n<10;n++)e.push([t,n]);for(this.#n(e);e.length>0;)this.aiMoves.push(e.pop());let t=100;for(;t>0&&!this.gameBoard.allShipsPlaced();){const e=Math.floor(Math.random()*(this.aiMoves.length-1));this.gameBoard.spawnShip(this.gameBoard.getNextShip(),this.aiMoves[e][0],this.aiMoves[e][1],Math.random()<.5,2),t--}}#n(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}}#r(e,t,n,r){return e-1===n&&t+1===r||e+1===n&&t+1===r||e-1===n&&t-1===r||e+1===n&&t-1===r}#i(e,t,n,r,i=null){return!(!(e-1===n&&t===r||e+1===n&&t===r||e===n&&t-1===r||e===n&&t+1===r)||i instanceof v&&i.isSunk())}executeComputerMove(e=null){if(!e)return;const t=this.aiMoves[this.aiMoves.length-1][0],n=this.aiMoves.pop()[1],r=e.getPositionContents(t,n);if(1===e.receiveAttack(t,n)&&("normal"===this.aiLevel||"hard"===this.aiLevel)){const e=[],i=[];this.aiMoves.forEach(a=>{const o=this.#r(t,n,a[0],a[1]);this.#i(t,n,a[0],a[1],r.getShipRef())?e.push(a):o||i.push(a)}),this.aiMoves=[...i,...e]}}},k=class{constructor(e,t){this.playerOne=e,this.playerTwo=t,this.gameEnd=!1}createPlayer(e=!0,t="Unknown"){if(this.playerOne&&this.playerTwo)return-1;this.playerOne?this.playerTwo||(this.playerTwo=new T(e,t),this.playerTwo.getBoard().toggleBoard()):this.playerOne=new T(e,t)}allShipsPlaced(){return!(!this.playerOne.getBoard().allShipsPlaced()||!this.playerOne.getBoard().allShipsPlaced())}},R=function(e,t=null){if(null===t)return document.createElement("div");const n=document.createElement("div");n.setAttribute("class","score-board");const r=document.createElement("p"),i=document.createElement("ul"),a=document.createElement("li");if(t){r.innerHTML="Ships remaining to place:";const t={};for(let n=0;n<e.shipsLeftToPlace.length;n++){const r=e.shipsLeftToPlace[n];r in t||(t[r]=0),t[r]++}for(let[e,n]of Object.entries(t)){const t=a.cloneNode();t.innerHTML=`Ship (length ${e}) x${n}`,i.appendChild(t)}}else{r.innerHTML="Ships remaining in battlefield:";const t={};for(let n=0;n<e.ships.length;n++){const r=e.ships[n];r.isSunk()||(r.length in t||(t[r.length]=0),t[r.length]++)}for(let[e,n]of Object.entries(t)){const t=a.cloneNode();t.innerHTML=`Ship (length ${e}) x${n}`,i.appendChild(t)}}return n.appendChild(r),n.appendChild(i),n};function P(e,t,n,r,i=!1){return r.isDamaged()&&!i?"shipSpriteDamaged":1===r.getLength()?r.isSunk()?n?"shipSpriteSingleDestroyedRotated":"shipSpriteSingleDestroyed":n?"shipSpriteSingleRotated":"shipSpriteSingle":r.getShipPositions()[0].coords[0]===e&&r.getShipPositions()[0].coords[1]===t?r.isSunk()||r.getShipPartAt(e,t).damaged?n?"shipSpriteFrontDestroyedRotated":"shipSpriteFrontDestroyed":n?"shipSpriteFrontRotated":"shipSpriteFront":r.getShipPositions()[r.getShipPositions().length-1].coords[0]===e&&r.getShipPositions()[r.getShipPositions().length-1].coords[1]===t?r.isSunk()||r.getShipPartAt(e,t).damaged?n?"shipSpriteEndDestroyedRotated":"shipSpriteEndDestroyed":n?"shipSpriteEndRotated":"shipSpriteEnd":r.isSunk()||r.getShipPartAt(e,t).damaged?n?"shipSpriteMidDestroyedRotated":"shipSpriteMidDestroyed":n?"shipSpriteMidRotated":"shipSpriteMid"}const B=class{constructor(e,t,n){this.playerOneRef=e,this.playerTwoRef=t,this.playerOneBoard=e.getBoard(),this.playerTwoBoard=t.getBoard(),this.gameEngine=n,this.mainApp=document.getElementById("mainApp"),this.playerOneTurn=!0,this.btnMessage="Start Game",this.shipPlacementActive=!0,this.gameplayActive=!1,this.gameEnded=!1,this.playerTwoRef.disableInteraction()}updateUI(){this.mainApp.innerHTML="";const e=document.createElement("div");e.setAttribute("id","game-boards");const t=document.createElement("h2"),n=document.createElement("div");n.setAttribute("class","game-board-player-container");const r=document.createElement("div");r.setAttribute("class","game-board-player-container");const i=t.cloneNode();i.innerHTML=`Player ${this.playerOneRef.name}'s board`,n.appendChild(i);const a=t.cloneNode();a.innerHTML=`Player ${this.playerTwoRef.name}'s board`,r.appendChild(a);let o=null;const s=document.createElement("button");s.setAttribute("id","btn-control");const d=document.createElement("h1");if(this.mainApp.appendChild(d),this.mainApp.appendChild(e),this.playerOneBoard.boardHidden?d.innerHTML="Player TWO turn":d.innerHTML="Player ONE turn",this.gameplayActive&&(this.playerOneBoard.areAllShipsDestroyed()||this.playerTwoBoard.areAllShipsDestroyed())){this.gameplayActive=!1,this.gameEnded=!0;let e=null;this.playerOneRef.disableInteraction(),this.playerTwoRef.disableInteraction(),e=this.playerOneBoard.areAllShipsDestroyed()?this.playerTwoRef:this.playerOneRef;const t=this.#a(this.playerOneRef.playerNumber,this.playerOneBoard,!1,!1,!1),i=this.#a(this.playerTwoRef.playerNumber,this.playerTwoBoard,!1,!1,!1);n.appendChild(R(this.playerOneBoard,this.shipPlacementActive)),n.appendChild(t),r.appendChild(R(this.playerTwoBoard,this.shipPlacementActive)),r.appendChild(i),d.innerHTML=`${e.name} has won the game!`}if(this.shipPlacementActive&&this.playerOneRef.playerTurn){o=this.playerOneRef;const e=this.#a(this.playerOneRef.playerNumber,this.playerOneBoard,this.playerOneBoard.boardHidden,this.shipPlacementActive),t=this.#a(this.playerTwoRef.playerNumber,this.playerTwoBoard,!0,!1,!0);n.appendChild(R(this.playerOneBoard,this.shipPlacementActive)),n.appendChild(e),r.appendChild(R(this.playerTwoBoard,this.shipPlacementActive)),r.appendChild(t),d.innerHTML=`${this.playerOneRef.name} turn to allocate ships`,this.btnMessage="Hide board after ships are placed"}if(this.shipPlacementActive&&this.playerTwoRef.playerTurn){o=this.playerTwoRef;const e=this.#a(this.playerTwoRef.playerNumber,this.playerTwoBoard,this.playerTwoBoard.boardHidden,this.shipPlacementActive),t=this.#a(this.playerOneRef.playerNumber,this.playerOneBoard,!0,!1,!0);n.appendChild(R(this.playerOneBoard,this.shipPlacementActive)),n.appendChild(t),r.appendChild(R(this.playerTwoBoard,this.shipPlacementActive)),r.appendChild(e),d.innerHTML=`${this.playerTwoRef.name} turn to allocate ships`,this.btnMessage="Hide board after ships are placed"}if(this.gameplayActive&&this.playerOneRef.playerTurn){o=this.playerOneRef;const e=this.#a(this.playerTwoRef.playerNumber,this.playerTwoBoard,this.playerTwoBoard.boardHidden,this.shipPlacementActive),t=this.#a(this.playerOneRef.playerNumber,this.playerOneBoard,!0,!1,!0);n.appendChild(R(this.playerOneBoard,this.shipPlacementActive)),n.appendChild(t),r.appendChild(R(this.playerTwoBoard,this.shipPlacementActive)),r.appendChild(e),d.innerHTML=`${this.playerOneRef.name} turn to attack`}if(this.gameplayActive&&this.playerTwoRef.playerTurn){if(o=this.playerTwoRef,!o.isHuman)return o.executeComputerMove(this.playerOneBoard),o.disableInteraction(),this.playerOneRef.enableInteraction(),void this.updateUI();const e=this.#a(this.playerOneRef.playerNumber,this.playerOneBoard,this.playerOneBoard.boardHidden,this.shipPlacementActive),t=this.#a(this.playerTwoRef.playerNumber,this.playerTwoBoard,!0,!1,!0);n.appendChild(R(this.playerOneBoard,this.shipPlacementActive)),n.appendChild(e),r.appendChild(R(this.playerTwoBoard,this.shipPlacementActive)),r.appendChild(t),d.innerHTML=`${this.playerTwoRef.name} turn to attack`}e.appendChild(n),e.appendChild(r),s.addEventListener("click",e=>{e.preventDefault(),this.gameEnded||this.gameplayActive?window.location.reload():(this.shipPlacementActive&&this.playerOneBoard.allShipsPlaced()&&this.playerOneRef.playerTurn&&(this.playerOneRef.disableInteraction(),this.playerTwoRef.enableInteraction(),this.playerOneBoard.toggleBoard(),this.playerTwoBoard.toggleBoard(),this.updateUI()),this.shipPlacementActive&&!this.gameplayActive&&this.playerOneBoard.allShipsPlaced()&&this.playerTwoBoard.allShipsPlaced()&&(this.shipPlacementActive=!1,this.gameplayActive=!0,this.playerOneRef.enableInteraction(),this.playerTwoRef.disableInteraction(),this.playerTwoBoard.toggleBoard(),this.btnMessage="Restart Game",this.updateUI()))}),s.innerHTML=this.btnMessage,this.mainApp.appendChild(s)}#a(e,t=null,n=!1,r=!1,i=!1){const a=document.createElement("div");i?a.setAttribute("class","gameBoard-small"):a.setAttribute("class","gameBoard");const o=document.createElement("button");o.setAttribute("class","single-square");let s=!1,d=null;d=1===e?this.playerTwoRef:this.playerOneRef,a.setAttribute("id","gameBoard"+e);for(let i=0;i<10;i++)for(let l=0;l<10;l++){const p=o.cloneNode(!0),h=t.getPositionContents(i,l);h.wasAttacked()&&!h.hasShip()?p.classList.toggle("position-attacked"):h.wasAttacked()&&h.hasShip()?(p.classList.toggle(P(i,l,h.getShipRef().isRotated(),h.getShipRef(),this.gameEnded)),h.getShipRef().isSunk()&&p.classList.toggle("btn-border-hide")):n?p.classList.toggle("position-unknown"):!h.wasAttacked()&&h.hasShip()?(p.classList.toggle("btn-border-hide"),p.classList.toggle(P(i,l,h.getShipRef().isRotated(),h.getShipRef(),this.gameEnded))):p.classList.toggle("position-unknown"),p.setAttribute("id",e+"_X"+i+"Y"+l),p.setAttribute("data-playerNo",e),p.setAttribute("data-coordx",i),p.setAttribute("data-coordy",l),p.addEventListener("click",r=>{if(r.preventDefault(),this.gameEnded)return;const i=r.target.getAttribute("data-coordx"),a=r.target.getAttribute("data-coordy");this.shipPlacementActive?n||t.allShipsPlaced()||t.spawnShip(t.getNextShip(),i,a,s,e):this.gameplayActive&&d.playerTurn&&d.playerNumber!=t.playerNumber&&0!=t.receiveAttack(i,a)&&(d.disableInteraction(),1===d.playerNumber?this.playerTwoRef.enableInteraction():this.playerOneRef.enableInteraction()),this.updateUI()}),r&&!n&&(p.addEventListener("wheel",()=>{s=!s}),p.addEventListener("mouseenter",n=>{n.preventDefault();const r=t.getNextShip(),i=n.target.getAttribute("data-coordx"),o=n.target.getAttribute("data-coordy");for(const t of a.children){const n=t.getAttribute("id");for(let a=0;a<r;a++)s?n===`${e}_X${+i}Y${+o+a}`&&t.classList.add("position-ship-placing"):n===`${e}_X${+i+a}Y${+o}`&&t.classList.add("position-ship-placing")}}),p.addEventListener("mouseleave",e=>{e.preventDefault();for(const e of a.children)e.classList.remove("position-ship-placing")})),h.hasShip()&&this.gameEnded&&p.classList.add("btn-border-hide"),a.appendChild(p)}return a}},L=document.createElement("form");L.setAttribute("id","start-menu");const x=document.createElement("input"),C=document.createElement("div"),E=document.createElement("label"),M=x.cloneNode();M.setAttribute("type","text"),M.setAttribute("value","Player 1"),M.setAttribute("name","playerOneName");const O=E.cloneNode();O.setAttribute("for","playerOneName"),O.innerHTML="Player One name: ";const N=x.cloneNode();N.setAttribute("type","text"),N.setAttribute("value","Player 2"),N.setAttribute("name","playerTwoName"),N.setAttribute("id","player-two-name");const I=E.cloneNode();I.setAttribute("for","playerTwoName"),I.setAttribute("id","player-two-name-label"),I.innerHTML="Player Two name: ",x.cloneNode().setAttribute("type","select");const $=x.cloneNode();$.setAttribute("type","checkbox"),$.setAttribute("name","computer-option");const H=E.cloneNode();H.setAttribute("for","computer-option"),H.innerHTML="Player Two is computer? ",$.addEventListener("click",e=>{e.target.checked?(document.getElementById("player-two-name").hidden=!0,document.getElementById("player-two-name-label").hidden=!0,document.getElementById("computer-level").hidden=!1):(document.getElementById("player-two-name").hidden=!1,document.getElementById("player-two-name-label").hidden=!1,document.getElementById("computer-level").hidden=!0)});const D=document.createElement("div");D.setAttribute("id","computer-level"),D.hidden=!0;const U=x.cloneNode();U.setAttribute("type","radio"),U.setAttribute("id","computer-easy"),U.setAttribute("name","computer-level"),U.setAttribute("value","easy");const _=E.cloneNode();_.setAttribute("for","computer-easy"),_.innerHTML="Easy";const z=x.cloneNode();z.checked=!0,z.setAttribute("type","radio"),z.setAttribute("id","computer-normal"),z.setAttribute("name","computer-level"),z.setAttribute("value","normal");const j=E.cloneNode();j.setAttribute("for","computer-normal"),j.innerHTML="Normal";const F=C.cloneNode();F.setAttribute("id","player-one-menu"),F.classList.add("playerMenu");const G=C.cloneNode();G.setAttribute("id","player-two-menu"),G.classList.add("playerMenu"),F.appendChild(O),F.appendChild(M),G.appendChild(H),G.appendChild($),G.appendChild(I),G.appendChild(N);const q=document.createElement("div"),X=document.createElement("div");q.appendChild(_),q.appendChild(U),X.appendChild(j),X.appendChild(z),D.appendChild(q),D.appendChild(X),G.appendChild(D),L.appendChild(F),L.appendChild(G);const Y=L;document.addEventListener("DOMContentLoaded",()=>{const e=Y,t=document.createElement("button");t.addEventListener("click",e=>{e.preventDefault();const t=document.getElementById("start-menu"),n=new FormData(t),r={};n.forEach((e,t)=>{r[t]=e});const i=new T(!0,r.playerOneName,1),a=new T("on"!==r["computer-option"],r.playerTwoName,2);r["computer-level"]&&a.setAiLevel(r["computer-level"]);const o=new k(i,a),s=new B(i,a,o);a.getBoard().toggleBoard(),s.updateUI()}),t.textContent="start game",document.getElementById("mainApp").appendChild(e),document.getElementById("mainApp").appendChild(t)})})();